{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Pc/Desktop/RTI 3. god/6. semestar/PIA/Projekat/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user.service\";\nimport * as i2 from \"../services/request.service\";\nimport * as i3 from \"../services/worker.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"../navbar/navbar.component\";\nimport * as i8 from \"../footer/footer.component\";\n\nfunction UserDetailsComponent_div_1_div_4_div_25_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Ovo polje je obavezno.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_4_div_25_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Nije validan format mejla.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_4_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UserDetailsComponent_div_1_div_4_div_25_small_1_Template, 2, 0, \"small\", 84);\n    i0.ɵɵtemplate(2, UserDetailsComponent_div_1_div_4_div_25_small_2_Template, 2, 0, \"small\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r32 = i0.ɵɵreference(24);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r32.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r32.errors[\"pattern\"]);\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_4_div_30_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Ovo polje je obavezno.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_4_div_30_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Telefon se navodi u formatu 06 (ili +3816), zatim Vas broj bez razmaka ili crtica.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_4_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UserDetailsComponent_div_1_div_4_div_30_small_1_Template, 2, 0, \"small\", 84);\n    i0.ɵɵtemplate(2, UserDetailsComponent_div_1_div_4_div_30_small_2_Template, 2, 0, \"small\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r34 = i0.ɵɵreference(29);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r34.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r34.errors[\"pattern\"]);\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_4_small_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 85);\n    i0.ɵɵtext(1, \"Uspe\\u0161na izmena podataka!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_4_small_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 13);\n    i0.ɵɵtext(1, \"Gre\\u0161ka pri izmeni podataka!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"form\", null, 66)(3, \"label\", 67);\n    i0.ɵɵtext(4, \"Ime Agencije:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 68, 69);\n    i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_div_1_div_4_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r42 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r42.agencyName = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"small\", 70);\n    i0.ɵɵtext(8, \"Ovo polje je obavezno.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"label\", 71);\n    i0.ɵɵtext(10, \"Adresa:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 72, 73);\n    i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_div_1_div_4_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r44 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r44.address = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"small\", 70);\n    i0.ɵɵtext(14, \"Ovo polje je obavezno.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"label\", 74);\n    i0.ɵɵtext(16, \"Opis:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"textarea\", 75, 76);\n    i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_div_1_div_4_Template_textarea_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r45 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r45.desc = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"small\", 70);\n    i0.ɵɵtext(20, \"Ovo polje je obavezno.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"label\", 77);\n    i0.ɵɵtext(22, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"input\", 78, 79);\n    i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_div_1_div_4_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r46 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r46.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, UserDetailsComponent_div_1_div_4_div_25_Template, 3, 2, \"div\", 20);\n    i0.ɵɵelementStart(26, \"label\", 80);\n    i0.ɵɵtext(27, \"Broj Telefona:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"input\", 81, 82);\n    i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_div_1_div_4_Template_input_ngModelChange_28_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r47 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r47.phone = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(30, UserDetailsComponent_div_1_div_4_div_30_Template, 3, 2, \"div\", 20);\n    i0.ɵɵelementStart(31, \"input\", 83);\n    i0.ɵɵlistener(\"click\", function UserDetailsComponent_div_1_div_4_Template_input_click_31_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r48 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r48.changeAgencyData());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(32, UserDetailsComponent_div_1_div_4_small_32_Template, 2, 0, \"small\", 30);\n    i0.ɵɵtemplate(33, UserDetailsComponent_div_1_div_4_small_33_Template, 2, 0, \"small\", 60);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const _r28 = i0.ɵɵreference(2);\n\n    const _r29 = i0.ɵɵreference(6);\n\n    const _r30 = i0.ɵɵreference(12);\n\n    const _r31 = i0.ɵɵreference(18);\n\n    const _r32 = i0.ɵɵreference(24);\n\n    const _r34 = i0.ɵɵreference(29);\n\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassProp(\"is-invalid\", _r29.invalid && _r29.touched);\n    i0.ɵɵproperty(\"ngModel\", ctx_r19.agencyName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"d-none\", _r29.valid || _r29.untouched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"is-invalid\", _r30.invalid && _r30.touched);\n    i0.ɵɵproperty(\"ngModel\", ctx_r19.address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"d-none\", _r30.valid || _r30.untouched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"is-invalid\", _r31.invalid && _r31.touched);\n    i0.ɵɵproperty(\"ngModel\", ctx_r19.desc);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"d-none\", _r31.valid || _r31.untouched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"is-invalid\", _r32.invalid && _r32.touched);\n    i0.ɵɵproperty(\"ngModel\", ctx_r19.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r32.errors && _r32.invalid && _r32.touched);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"is-invalid\", _r34.invalid && _r34.touched);\n    i0.ɵɵproperty(\"ngModel\", ctx_r19.phone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r34.errors && _r34.invalid && _r34.touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", _r28.form.invalid || _r28.form.pristine || _r28.submitted);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r19.dataChange);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r19.dataChangeFail);\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_5_div_19_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Ovo polje je obavezno.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_5_div_19_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Nije validan format mejla.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_5_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UserDetailsComponent_div_1_div_5_div_19_small_1_Template, 2, 0, \"small\", 84);\n    i0.ɵɵtemplate(2, UserDetailsComponent_div_1_div_5_div_19_small_2_Template, 2, 0, \"small\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r52 = i0.ɵɵreference(18);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r52.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r52.errors[\"pattern\"]);\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_5_div_24_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Ovo polje je obavezno.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_5_div_24_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Telefon se navodi u formatu 06 (ili +3816), zatim Vas broj bez razmaka ili crtica.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_5_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UserDetailsComponent_div_1_div_5_div_24_small_1_Template, 2, 0, \"small\", 84);\n    i0.ɵɵtemplate(2, UserDetailsComponent_div_1_div_5_div_24_small_2_Template, 2, 0, \"small\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r54 = i0.ɵɵreference(23);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r54.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r54.errors[\"pattern\"]);\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_5_small_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 85);\n    i0.ɵɵtext(1, \"Uspe\\u0161na izmena podataka!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_5_small_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 13);\n    i0.ɵɵtext(1, \"Gre\\u0161ka pri izmeni podataka!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r63 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"form\", null, 86)(3, \"label\", 87);\n    i0.ɵɵtext(4, \"Ime:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 88, 89);\n    i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_div_1_div_5_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r63);\n      const ctx_r62 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r62.firstname = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"small\", 13);\n    i0.ɵɵtext(8, \"Ovo polje je obavezno.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"label\", 90);\n    i0.ɵɵtext(10, \"Prezime:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 91, 92);\n    i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_div_1_div_5_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r63);\n      const ctx_r64 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r64.lastname = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"small\", 13);\n    i0.ɵɵtext(14, \"Ovo polje je obavezno.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"label\", 77);\n    i0.ɵɵtext(16, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"input\", 78, 79);\n    i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_div_1_div_5_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r63);\n      const ctx_r65 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r65.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, UserDetailsComponent_div_1_div_5_div_19_Template, 3, 2, \"div\", 20);\n    i0.ɵɵelementStart(20, \"label\", 80);\n    i0.ɵɵtext(21, \"Broj Telefona:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 81, 82);\n    i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_div_1_div_5_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r63);\n      const ctx_r66 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r66.phone = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, UserDetailsComponent_div_1_div_5_div_24_Template, 3, 2, \"div\", 20);\n    i0.ɵɵelementStart(25, \"input\", 83);\n    i0.ɵɵlistener(\"click\", function UserDetailsComponent_div_1_div_5_Template_input_click_25_listener() {\n      i0.ɵɵrestoreView(_r63);\n      const ctx_r67 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r67.changeClientData());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(26, UserDetailsComponent_div_1_div_5_small_26_Template, 2, 0, \"small\", 30);\n    i0.ɵɵtemplate(27, UserDetailsComponent_div_1_div_5_small_27_Template, 2, 0, \"small\", 60);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const _r49 = i0.ɵɵreference(2);\n\n    const _r50 = i0.ɵɵreference(6);\n\n    const _r51 = i0.ɵɵreference(12);\n\n    const _r52 = i0.ɵɵreference(18);\n\n    const _r54 = i0.ɵɵreference(23);\n\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassProp(\"is-invalid\", _r50.invalid && _r50.touched);\n    i0.ɵɵproperty(\"ngModel\", ctx_r20.firstname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"d-none\", _r50.valid || _r50.untouched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"is-invalid\", _r51.invalid && _r51.touched);\n    i0.ɵɵproperty(\"ngModel\", ctx_r20.lastname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"d-none\", _r51.valid || _r51.untouched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"is-invalid\", _r52.invalid && _r52.touched);\n    i0.ɵɵproperty(\"ngModel\", ctx_r20.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r52.errors && _r52.invalid && _r52.touched);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"is-invalid\", _r54.invalid && _r54.touched);\n    i0.ɵɵproperty(\"ngModel\", ctx_r20.phone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r54.errors && _r54.invalid && _r54.touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", _r49.form.invalid || _r49.form.pristine || _r49.submitted);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.dataChange);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.dataChangeFail);\n  }\n}\n\nfunction UserDetailsComponent_div_1_small_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 93);\n    i0.ɵɵtext(1, \"Slika mora biti velicine 100x100px - 300x300px.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_small_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 85);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r22 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r22.imgChangeText);\n  }\n}\n\nfunction UserDetailsComponent_div_1_small_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r23.imgChangeText);\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r69 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 94)(1, \"h5\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 95);\n    i0.ɵɵlistener(\"click\", function UserDetailsComponent_div_1_div_19_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r68 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r68.acceptRequest());\n    });\n    i0.ɵɵtext(4, \"Prihvati zahtev\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 96);\n    i0.ɵɵlistener(\"click\", function UserDetailsComponent_div_1_div_19_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r70 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r70.refuseRequest());\n    });\n    i0.ɵɵtext(6, \"Odbij zahtev\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Postoji zahtev za pove\\u0107anje broja radnih mesta na: \", ctx_r24.request.workerNum, \"\");\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 97)(1, \"div\", 98)(2, \"h3\", 99);\n    i0.ɵɵtext(3, \"Svi Radnici Agencije\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 100)(5, \"button\", 101);\n    i0.ɵɵtext(6, \"Dodaj Novog Radnika\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_24_table_2_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r77 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 109)(1, \"th\", 110);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"button\", 111);\n    i0.ɵɵlistener(\"click\", function UserDetailsComponent_div_1_div_24_table_2_tr_18_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r77);\n      const i_r75 = restoredCtx.index;\n      const ctx_r76 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r76.fill(i_r75));\n    });\n    i0.ɵɵtext(15, \"A\\u017Euriraj\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"td\")(17, \"button\", 112);\n    i0.ɵɵlistener(\"click\", function UserDetailsComponent_div_1_div_24_table_2_tr_18_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r77);\n      const w_r74 = restoredCtx.$implicit;\n      const ctx_r78 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r78.removeWorker(w_r74.workerId));\n    });\n    i0.ɵɵtext(18, \"Obri\\u0161i\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const w_r74 = ctx.$implicit;\n    const i_r75 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r75 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(w_r74.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(w_r74.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(w_r74.phone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(w_r74.specialty);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(w_r74.workingOn == -1 ? \"Ne\" : \"Da\");\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_24_table_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 104)(1, \"thead\", 94)(2, \"tr\")(3, \"th\", 105);\n    i0.ɵɵtext(4, \"#\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 106);\n    i0.ɵɵtext(6, \"Ime\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 106);\n    i0.ɵɵtext(8, \"Prezime\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\", 106);\n    i0.ɵɵtext(10, \"Broj telefona\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 106);\n    i0.ɵɵtext(12, \"Struka\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 106);\n    i0.ɵɵtext(14, \"Na Poslu\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\", 107);\n    i0.ɵɵtext(16, \"Opcije\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\", 94);\n    i0.ɵɵtemplate(18, UserDetailsComponent_div_1_div_24_table_2_tr_18_Template, 19, 6, \"tr\", 108);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r71 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r71.workers);\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_24_h5_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h5\", 94);\n    i0.ɵɵtext(1, \"Agencija nema nijednog radnika.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51)(1, \"div\", 102);\n    i0.ɵɵtemplate(2, UserDetailsComponent_div_1_div_24_table_2_Template, 19, 1, \"table\", 103);\n    i0.ɵɵtemplate(3, UserDetailsComponent_div_1_div_24_h5_3_Template, 2, 0, \"h5\", 61);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.workers.length != 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.workers.length == 0);\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_25_h5_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h5\", 94);\n    i0.ɵɵtext(1, \"Ova agencija nema nijednu recenziju.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_25_table_5_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 109)(1, \"th\", 110);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const r_r82 = ctx.$implicit;\n    const i_r83 = ctx.index;\n    const ctx_r81 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r83 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r81.logged ? r_r82.username : \"Anoniman korisnik\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(r_r82.rating);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(r_r82.comment);\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_25_table_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 104)(1, \"thead\", 94)(2, \"tr\")(3, \"th\", 105);\n    i0.ɵɵtext(4, \"#\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 106);\n    i0.ɵɵtext(6, \"Korisni\\u010Dko ime\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 106);\n    i0.ɵɵtext(8, \"Ocena\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\", 106);\n    i0.ɵɵtext(10, \"Komentar\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"tbody\", 94);\n    i0.ɵɵtemplate(12, UserDetailsComponent_div_1_div_25_table_5_tr_12_Template, 9, 4, \"tr\", 108);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r80 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r80.user.reviews);\n  }\n}\n\nfunction UserDetailsComponent_div_1_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 113)(1, \"div\", 102)(2, \"h4\", 114);\n    i0.ɵɵtext(3, \"Recenzije Agencije:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, UserDetailsComponent_div_1_div_25_h5_4_Template, 2, 0, \"h5\", 61);\n    i0.ɵɵtemplate(5, UserDetailsComponent_div_1_div_25_table_5_Template, 13, 1, \"table\", 103);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r27 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r27.user.reviews.length == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r27.user.reviews.length != 0);\n  }\n}\n\nfunction UserDetailsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r85 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"h3\", 50);\n    i0.ɵɵtext(2, \"Izmena podataka\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 51);\n    i0.ɵɵtemplate(4, UserDetailsComponent_div_1_div_4_Template, 34, 26, \"div\", 52);\n    i0.ɵɵtemplate(5, UserDetailsComponent_div_1_div_5_Template, 28, 21, \"div\", 52);\n    i0.ɵɵelementStart(6, \"div\", 53)(7, \"h4\", 54);\n    i0.ɵɵtext(8, \"Trenutna Profilna Ikonica\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"img\", 55);\n    i0.ɵɵelementStart(10, \"label\", 56);\n    i0.ɵɵtext(11, \"Nova Profilna Ikonica:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 57);\n    i0.ɵɵlistener(\"input\", function UserDetailsComponent_div_1_Template_input_input_12_listener($event) {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r84 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r84.fileChosen($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, UserDetailsComponent_div_1_small_13_Template, 2, 0, \"small\", 58);\n    i0.ɵɵelementStart(14, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function UserDetailsComponent_div_1_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r86 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r86.changeImg());\n    });\n    i0.ɵɵtext(15, \"Izmenite Profilnu Ikonicu\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, UserDetailsComponent_div_1_small_16_Template, 2, 1, \"small\", 30);\n    i0.ɵɵtemplate(17, UserDetailsComponent_div_1_small_17_Template, 2, 1, \"small\", 60);\n    i0.ɵɵelement(18, \"br\");\n    i0.ɵɵtemplate(19, UserDetailsComponent_div_1_div_19_Template, 7, 1, \"div\", 61);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(20, \"br\")(21, \"hr\")(22, \"br\");\n    i0.ɵɵtemplate(23, UserDetailsComponent_div_1_div_23_Template, 7, 0, \"div\", 62);\n    i0.ɵɵtemplate(24, UserDetailsComponent_div_1_div_24_Template, 4, 2, \"div\", 63);\n    i0.ɵɵtemplate(25, UserDetailsComponent_div_1_div_25_Template, 6, 2, \"div\", 64);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.type == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.type == 0);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", \"http://localhost:4000/images/\" + ctx_r0.user.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r0.badChosen);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.badChosen);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.badChosen || !ctx_r0.img);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.imgChange);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.imgChangeFail);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.hasRequest);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.type == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.type == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.type == 1);\n  }\n}\n\nfunction UserDetailsComponent_div_30_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Ovo polje je obavezno.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_30_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Nije validan format mejla.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UserDetailsComponent_div_30_small_1_Template, 2, 0, \"small\", 84);\n    i0.ɵɵtemplate(2, UserDetailsComponent_div_30_small_2_Template, 2, 0, \"small\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r4 = i0.ɵɵreference(29);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r4.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r4.errors[\"pattern\"]);\n  }\n}\n\nfunction UserDetailsComponent_div_35_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Ovo polje je obavezno.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_35_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Telefon se navodi u formatu 06 (ili +3816), zatim Vas broj bez razmaka ili crtica.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UserDetailsComponent_div_35_small_1_Template, 2, 0, \"small\", 84);\n    i0.ɵɵtemplate(2, UserDetailsComponent_div_35_small_2_Template, 2, 0, \"small\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r6 = i0.ɵɵreference(34);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r6.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r6.errors[\"pattern\"]);\n  }\n}\n\nfunction UserDetailsComponent_small_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 85);\n    i0.ɵɵtext(1, \"Uspe\\u0161no sa\\u010Duvan radnik!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_76_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Ovo polje je obavezno.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_76_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Nije validan format mejla.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UserDetailsComponent_div_76_small_1_Template, 2, 0, \"small\", 84);\n    i0.ɵɵtemplate(2, UserDetailsComponent_div_76_small_2_Template, 2, 0, \"small\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r13 = i0.ɵɵreference(75);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r13.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r13.errors[\"pattern\"]);\n  }\n}\n\nfunction UserDetailsComponent_div_81_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Ovo polje je obavezno.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_81_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 70);\n    i0.ɵɵtext(1, \"Telefon se navodi u formatu 06 (ili +3816), zatim Vas broj bez razmaka ili crtica.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserDetailsComponent_div_81_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UserDetailsComponent_div_81_small_1_Template, 2, 0, \"small\", 84);\n    i0.ɵɵtemplate(2, UserDetailsComponent_div_81_small_2_Template, 2, 0, \"small\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r15 = i0.ɵɵreference(80);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r15.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r15.errors[\"pattern\"]);\n  }\n}\n\nfunction UserDetailsComponent_small_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 85);\n    i0.ɵɵtext(1, \"Uspe\\u0161no sa\\u010Duvan radnik!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class UserDetailsComponent {\n  constructor(userService, requestService, workerService, router, route) {\n    this.userService = userService;\n    this.requestService = requestService;\n    this.workerService = workerService;\n    this.router = router;\n    this.route = route; //------------------------------------------------------generalne stvari------------------------------------------------------\n\n    this.isLoading = true;\n    this.hasRequest = false;\n    this.dataChange = false;\n    this.dataChangeFail = false;\n    this.passChange = false;\n    this.passChangeFail = false;\n    this.badChosen = false;\n    this.imgChange = false;\n    this.imgChangeFail = false;\n    this.newSuccess = false;\n    this.editSuccess = false;\n  }\n\n  ngOnInit() {\n    this.logged = JSON.parse(sessionStorage.getItem(\"loggedIn\"));\n\n    if (!this.logged || this.logged.type != 2) {\n      sessionStorage.clear();\n      this.router.navigate(['']);\n    } else {\n      let username = this.route.snapshot.paramMap.get(\"username\");\n      this.userService.fetchUsers().subscribe(users => {\n        this.allUsers = users;\n        this.userService.getUser(username).subscribe(usr => {\n          this.user = usr;\n          this.email = this.user.email;\n          this.phone = this.user.phone;\n\n          if (usr.type == 1) {\n            this.agencyName = this.user.agencyName;\n            this.address = this.user.address;\n            this.desc = this.user.desc;\n            this.workerService.getAllFromAgency(username).subscribe(allWorkers => {\n              this.workers = allWorkers;\n              this.requestService.getWorkersRequest(username).subscribe(req => {\n                if (req) {\n                  this.hasRequest = true;\n                  this.request = req;\n                } else {\n                  this.hasRequest = false;\n                  this.request = null;\n                }\n\n                this.isLoading = false;\n              });\n            });\n          } else {\n            this.firstname = this.user.firstName;\n            this.lastname = this.user.lastName;\n            this.isLoading = false;\n          }\n        });\n      });\n    }\n  }\n\n  fileChosen(event) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      //isto kao kod registracije\n      if (event.target.value) {\n        _this.img = event.target.files[0];\n        let img = new Image();\n        img.src = URL.createObjectURL(_this.img);\n        yield img.decode();\n        if (img.naturalWidth < 100 || img.naturalWidth > 300 || img.naturalHeight < 100 || img.naturalHeight > 300) _this.badChosen = true;else _this.badChosen = false;\n      } else {\n        _this.badChosen = false;\n        _this.img = null;\n      }\n    })();\n  }\n\n  changeImg() {\n    //isto kao kod registracije\n    let form = new FormData();\n    form.append(\"profile_pic\", this.img);\n    form.append(\"user\", this.user.username);\n    this.userService.editImg(form).subscribe(response => {\n      if (response['status'] == 'ok') {\n        this.imgChange = true;\n        this.imgChangeText = \"Ikonica uspešno izmenjena!\";\n        this.logged.img = response[\"newImg\"];\n        sessionStorage.setItem(\"loggedIn\", JSON.stringify(this.logged));\n        this.ngOnInit();\n      } else {\n        this.imgChangeFail = true;\n        this.imgChangeText = \"Greška pri izmeni ikonice!\";\n      }\n    });\n  }\n\n  changeClientData() {\n    for (let u of this.allUsers) {\n      if (this.email == u.email) {\n        alert(\"Email nije jedinstven!\");\n        return;\n      }\n    }\n\n    this.userService.editClientData(this.user.username, this.firstname, this.lastname, this.phone, this.email).subscribe(response => {\n      if (response['status'] == \"ok\") {\n        //podaci izmenjeni u bazi, sada moraju da se izmene u sessionStorage\n        this.dataChange = true;\n        this.logged.firstName = this.firstname;\n        this.logged.lastName = this.lastname;\n        this.logged.phone = this.phone;\n        this.logged.email = this.email;\n        sessionStorage.setItem(\"loggedIn\", JSON.stringify(this.logged));\n      } else this.dataChangeFail = true;\n    });\n  }\n\n  changeAgencyData() {\n    for (let u of this.allUsers) {\n      if (this.email == u.email) {\n        alert(\"Email nije jedinstven!\");\n        return;\n      }\n    }\n\n    this.userService.editAgencyData(this.user.username, this.logged.agencyName, this.address, this.desc, this.email, this.phone).subscribe(response => {\n      if (response['status'] == \"ok\") {\n        //podaci izmenjeni u bazi, sada moraju da se izmene u sessionStorage\n        this.dataChange = true;\n        this.logged.agencyName = this.agencyName;\n        this.logged.address = this.address;\n        this.logged.desc = this.desc;\n        this.logged.phone = this.phone;\n        this.logged.email = this.email;\n        sessionStorage.setItem(\"loggedIn\", JSON.stringify(this.logged));\n      } else this.dataChangeFail = true;\n    });\n  }\n\n  addWorker() {\n    this.workerService.addWorker(this.user.username, this.newFirstName, this.newLastName, this.newEmail, this.newPhone, this.newSpecialty).subscribe(response1 => {\n      if (response1['status'] == \"ok\") {\n        if (this.workers.length + 1 >= this.user.allowedWorkers) {\n          this.userService.incWorkers(this.user.username).subscribe(response2 => {\n            if (response2['status'] == \"ok\") {\n              this.newSuccess = true;\n              this.ngOnInit();\n            }\n          });\n        } else {\n          this.newSuccess = true;\n          this.ngOnInit();\n        }\n      }\n    });\n  }\n\n  fill(i) {\n    this.editId = this.workers[i].workerId;\n    this.editFirstName = this.workers[i].firstName;\n    this.editLastName = this.workers[i].lastName;\n    this.editEmail = this.workers[i].email;\n    this.editPhone = this.workers[i].phone;\n    this.editSpecialty = this.workers[i].specialty;\n  }\n\n  editWorker() {\n    this.workerService.editWorker(this.editId, this.editFirstName, this.editLastName, this.editEmail, this.editPhone, this.editSpecialty).subscribe(response => {\n      if (response['status'] == \"ok\") {\n        this.editSuccess = true;\n        this.ngOnInit();\n      }\n    });\n  }\n\n  removeWorker(id) {\n    this.workerService.removeWorker(id).subscribe(response => {\n      if (response['status'] == \"ok\") {\n        this.ngOnInit();\n      }\n    });\n  }\n\n  acceptRequest() {\n    this.userService.setWorkers(this.user.username, this.request.workerNum).subscribe(response1 => {\n      if (response1['status'] == \"ok\") {\n        this.requestService.delWorkersRequest(this.user.username, this.request.workerNum).subscribe(response2 => {\n          if (response2['status'] == \"ok\") {\n            alert(\"Zahtev prihvacen\");\n            this.ngOnInit();\n          }\n        });\n      }\n    });\n  }\n\n  refuseRequest() {\n    this.requestService.delWorkersRequest(this.user.username, this.request.workerNum).subscribe(response => {\n      if (response['status'] == \"ok\") {\n        alert(\"Zahtev odbijen\");\n        this.ngOnInit();\n      }\n    });\n  }\n\n}\n\nUserDetailsComponent.ɵfac = function UserDetailsComponent_Factory(t) {\n  return new (t || UserDetailsComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.RequestService), i0.ɵɵdirectiveInject(i3.WorkerService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n};\n\nUserDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserDetailsComponent,\n  selectors: [[\"app-user-details\"]],\n  decls: 95,\n  vars: 51,\n  consts: [[\"class\", \"container mb-5 mt-5\", 4, \"ngIf\"], [\"id\", \"addWorker\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"addWorkerLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"addWorkerLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn\", \"btn-outline-danger\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [\"newForm\", \"ngForm\"], [\"for\", \"newFirstName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"newFirstName\", \"name\", \"newFirstName\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"NewFirstName\", \"ngModel\"], [1, \"text-danger\", \"d-block\"], [\"for\", \"newLastName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"newLastName\", \"name\", \"newLastName\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"NewLastName\", \"ngModel\"], [\"for\", \"newEmail\", 1, \"form-label\"], [\"type\", \"newEmail\", \"id\", \"newEmail\", \"name\", \"newEmail\", \"pattern\", \"[^@ \\\\t\\\\r\\\\n]+@[^@ \\\\t\\\\r\\\\n]+\\\\.[^@ \\\\t\\\\r\\\\n]+\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"NewEmail\", \"ngModel\"], [4, \"ngIf\"], [\"for\", \"newPhone\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"newPhone\", \"name\", \"newPhone\", \"pattern\", \"^(\\\\+)(3816)([0-9]){6,9}|(06)([0-9]){6,9}$\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"NewPhone\", \"ngModel\"], [\"for\", \"newSpecialty\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"newSpecialty\", \"name\", \"newSpecialty\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"NewSpecialty\", \"ngModel\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [\"class\", \"text-success d-block\", 4, \"ngIf\"], [\"id\", \"editWorker\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"editWorkerLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"id\", \"editWorkerLabel\", 1, \"modal-title\"], [\"editForm\", \"ngForm\"], [\"for\", \"editFirstName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"editFirstName\", \"name\", \"editFirstName\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"EditFirstName\", \"ngModel\"], [\"for\", \"editLastName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"editLastName\", \"name\", \"editLastName\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"EditLastName\", \"ngModel\"], [\"for\", \"editEmail\", 1, \"form-label\"], [\"type\", \"editEmail\", \"id\", \"editEmail\", \"name\", \"editEmail\", \"pattern\", \"[^@ \\\\t\\\\r\\\\n]+@[^@ \\\\t\\\\r\\\\n]+\\\\.[^@ \\\\t\\\\r\\\\n]+\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"EditEmail\", \"ngModel\"], [\"for\", \"editPhone\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"editPhone\", \"name\", \"editPhone\", \"pattern\", \"^(\\\\+)(3816)([0-9]){6,9}|(06)([0-9]){6,9}$\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"EditPhone\", \"ngModel\"], [\"for\", \"editSpecialty\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"editSpecialty\", \"name\", \"editSpecialty\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"EditSpecialty\", \"ngModel\"], [1, \"container\", \"mb-5\", \"mt-5\"], [1, \"display-6\"], [1, \"row\"], [\"class\", \"col-md-6\", 4, \"ngIf\"], [1, \"col-md-6\", \"d-flex\", \"flex-column\", \"align-items-center\"], [1, \"text-center\", \"display-8\"], [\"alt\", \"Slika nije prona\\u0111ena\", 1, \"rounded\", 3, \"src\"], [\"for\", \"profile_pic\", 1, \"form-label\", \"mt-2\"], [\"type\", \"file\", \"id\", \"profile_pic\", \"name\", \"profile_pic\", \"accept\", \".png, .jpg, .jpeg\", 1, \"form-control\", \"w-50\", 3, \"input\"], [\"class\", \"text-danger w-50\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", \"mt-3\", 3, \"disabled\", \"click\"], [\"class\", \"text-danger d-block\", 4, \"ngIf\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"row mt-2 mb-3\", 4, \"ngIf\"], [\"class\", \"row\", 4, \"ngIf\"], [\"class\", \"row my-5\", 4, \"ngIf\"], [1, \"col-md-6\"], [\"changeAgencyForm\", \"ngForm\"], [\"for\", \"agencyname\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"agencyname\", \"name\", \"agencyname\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"Agencyname\", \"ngModel\"], [1, \"text-danger\"], [\"for\", \"address\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"address\", \"name\", \"address\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"Address\", \"ngModel\"], [\"for\", \"desc\", 1, \"form-label\"], [\"id\", \"desc\", \"name\", \"desc\", \"rows\", \"3\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"Desc\", \"ngModel\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"pattern\", \"[^@ \\\\t\\\\r\\\\n]+@[^@ \\\\t\\\\r\\\\n]+\\\\.[^@ \\\\t\\\\r\\\\n]+\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"Email\", \"ngModel\"], [\"for\", \"phone\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"phone\", \"name\", \"phone\", \"pattern\", \"^(\\\\+)(3816)([0-9]){6,9}|(06)([0-9]){6,9}$\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"Phone\", \"ngModel\"], [\"type\", \"submit\", \"value\", \"Izmeni podatke\", 1, \"btn\", \"btn-primary\", \"mt-2\", 3, \"disabled\", \"click\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"text-success\", \"d-block\"], [\"changeUserForm\", \"ngForm\"], [\"for\", \"firstname\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"firstname\", \"name\", \"firstname\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"Firstname\", \"ngModel\"], [\"for\", \"lastname\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"lastname\", \"name\", \"lastname\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"Lastname\", \"ngModel\"], [1, \"text-danger\", \"w-50\"], [1, \"text-center\"], [1, \"btn\", \"btn-outline-success\", \"me-2\", 3, \"click\"], [1, \"btn\", \"btn-outline-danger\", \"ms-2\", 3, \"click\"], [1, \"row\", \"mt-2\", \"mb-3\"], [1, \"col-md-10\", \"align-self-center\"], [1, \"text-center\", \"display-6\"], [1, \"col-md-2\", \"align-self-center\"], [\"data-toggle\", \"modal\", \"data-target\", \"#addWorker\", 1, \"btn\", \"btn-primary\", \"my-1\"], [1, \"col\"], [\"class\", \"table table-dark\", 4, \"ngIf\"], [1, \"table\", \"table-dark\"], [\"scope\", \"col\", 1, \"text\"], [\"scope\", \"col\"], [\"scope\", \"col\", \"colspan\", \"2\"], [\"class\", \"align-middle\", 4, \"ngFor\", \"ngForOf\"], [1, \"align-middle\"], [\"scope\", \"row\"], [\"data-toggle\", \"modal\", \"data-target\", \"#editWorker\", 1, \"btn\", \"btn-outline-info\", 3, \"click\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"row\", \"my-5\"], [1, \"text-center\", \"my-2\", \"display-6\"]],\n  template: function UserDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r95 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelement(0, \"app-navbar\");\n      i0.ɵɵtemplate(1, UserDetailsComponent_div_1_Template, 26, 13, \"div\", 0);\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"h5\", 5);\n      i0.ɵɵtext(7, \"Dodajte Radnika\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"button\", 6)(9, \"span\", 7);\n      i0.ɵɵtext(10, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"div\", 8)(12, \"form\", null, 9)(14, \"label\", 10);\n      i0.ɵɵtext(15, \"Ime:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 11, 12);\n      i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.newFirstName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"small\", 13);\n      i0.ɵɵtext(19, \"Ovo polje je obavezno.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"label\", 14);\n      i0.ɵɵtext(21, \"Prezime:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"input\", 15, 16);\n      i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_Template_input_ngModelChange_22_listener($event) {\n        return ctx.newLastName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"small\", 13);\n      i0.ɵɵtext(25, \"Ovo polje je obavezno.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"label\", 17);\n      i0.ɵɵtext(27, \"Email:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"input\", 18, 19);\n      i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_Template_input_ngModelChange_28_listener($event) {\n        return ctx.newEmail = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(30, UserDetailsComponent_div_30_Template, 3, 2, \"div\", 20);\n      i0.ɵɵelementStart(31, \"label\", 21);\n      i0.ɵɵtext(32, \"Broj Telefona:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"input\", 22, 23);\n      i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_Template_input_ngModelChange_33_listener($event) {\n        return ctx.newPhone = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(35, UserDetailsComponent_div_35_Template, 3, 2, \"div\", 20);\n      i0.ɵɵelementStart(36, \"label\", 24);\n      i0.ɵɵtext(37, \"Struka:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"input\", 25, 26);\n      i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_Template_input_ngModelChange_38_listener($event) {\n        return ctx.newSpecialty = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"small\", 13);\n      i0.ɵɵtext(41, \"Ovo polje je obavezno.\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(42, \"div\", 27)(43, \"button\", 28);\n      i0.ɵɵtext(44, \"Zatvori\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"button\", 29);\n      i0.ɵɵlistener(\"click\", function UserDetailsComponent_Template_button_click_45_listener() {\n        i0.ɵɵrestoreView(_r95);\n\n        const _r1 = i0.ɵɵreference(13);\n\n        ctx.addWorker();\n        return i0.ɵɵresetView(_r1.resetForm());\n      });\n      i0.ɵɵtext(46, \"Sa\\u010Duvaj Radnika\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(47, UserDetailsComponent_small_47_Template, 2, 0, \"small\", 30);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(48, \"div\", 31)(49, \"div\", 2)(50, \"div\", 3)(51, \"div\", 4)(52, \"h5\", 32);\n      i0.ɵɵtext(53, \"Izmeni Radnika\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"button\", 6)(55, \"span\", 7);\n      i0.ɵɵtext(56, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(57, \"div\", 8)(58, \"form\", null, 33)(60, \"label\", 34);\n      i0.ɵɵtext(61, \"Ime:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(62, \"input\", 35, 36);\n      i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_Template_input_ngModelChange_62_listener($event) {\n        return ctx.editFirstName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(64, \"small\", 13);\n      i0.ɵɵtext(65, \"Ovo polje je obavezno.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(66, \"label\", 37);\n      i0.ɵɵtext(67, \"Prezime:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(68, \"input\", 38, 39);\n      i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_Template_input_ngModelChange_68_listener($event) {\n        return ctx.editLastName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"small\", 13);\n      i0.ɵɵtext(71, \"Ovo polje je obavezno.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(72, \"label\", 40);\n      i0.ɵɵtext(73, \"Email:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(74, \"input\", 41, 42);\n      i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_Template_input_ngModelChange_74_listener($event) {\n        return ctx.editEmail = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(76, UserDetailsComponent_div_76_Template, 3, 2, \"div\", 20);\n      i0.ɵɵelementStart(77, \"label\", 43);\n      i0.ɵɵtext(78, \"Broj Telefona:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(79, \"input\", 44, 45);\n      i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_Template_input_ngModelChange_79_listener($event) {\n        return ctx.editPhone = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(81, UserDetailsComponent_div_81_Template, 3, 2, \"div\", 20);\n      i0.ɵɵelementStart(82, \"label\", 46);\n      i0.ɵɵtext(83, \"Struka:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(84, \"input\", 47, 48);\n      i0.ɵɵlistener(\"ngModelChange\", function UserDetailsComponent_Template_input_ngModelChange_84_listener($event) {\n        return ctx.editSpecialty = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(86, \"small\", 13);\n      i0.ɵɵtext(87, \"Ovo polje je obavezno.\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(88, \"div\", 27)(89, \"button\", 28);\n      i0.ɵɵtext(90, \"Zatvori\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(91, \"button\", 29);\n      i0.ɵɵlistener(\"click\", function UserDetailsComponent_Template_button_click_91_listener() {\n        return ctx.editWorker();\n      });\n      i0.ɵɵtext(92, \"Sa\\u010Duvaj Radnika\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(93, UserDetailsComponent_small_93_Template, 2, 0, \"small\", 30);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(94, \"app-footer\");\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(13);\n\n      const _r2 = i0.ɵɵreference(17);\n\n      const _r3 = i0.ɵɵreference(23);\n\n      const _r4 = i0.ɵɵreference(29);\n\n      const _r6 = i0.ɵɵreference(34);\n\n      const _r8 = i0.ɵɵreference(39);\n\n      const _r10 = i0.ɵɵreference(59);\n\n      const _r11 = i0.ɵɵreference(63);\n\n      const _r12 = i0.ɵɵreference(69);\n\n      const _r13 = i0.ɵɵreference(75);\n\n      const _r15 = i0.ɵɵreference(80);\n\n      const _r17 = i0.ɵɵreference(85);\n\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n      i0.ɵɵadvance(15);\n      i0.ɵɵclassProp(\"is-invalid\", _r2.invalid && _r2.touched);\n      i0.ɵɵproperty(\"ngModel\", ctx.newFirstName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassProp(\"d-none\", _r2.valid || _r2.untouched);\n      i0.ɵɵadvance(4);\n      i0.ɵɵclassProp(\"is-invalid\", _r3.invalid && _r3.touched);\n      i0.ɵɵproperty(\"ngModel\", ctx.newLastName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassProp(\"d-none\", _r3.valid || _r3.untouched);\n      i0.ɵɵadvance(4);\n      i0.ɵɵclassProp(\"is-invalid\", _r4.invalid && _r4.touched);\n      i0.ɵɵproperty(\"ngModel\", ctx.newEmail);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r4.errors && _r4.invalid && _r4.touched);\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"is-invalid\", _r6.invalid && _r6.touched);\n      i0.ɵɵproperty(\"ngModel\", ctx.newPhone);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r6.errors && _r6.invalid && _r6.touched);\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"is-invalid\", _r8.invalid && _r8.touched);\n      i0.ɵɵproperty(\"ngModel\", ctx.newSpecialty);\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassProp(\"d-none\", _r8.valid || _r8.untouched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"disabled\", _r1.form.invalid || _r1.submitted);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.newSuccess);\n      i0.ɵɵadvance(15);\n      i0.ɵɵclassProp(\"is-invalid\", _r11.invalid && _r11.touched);\n      i0.ɵɵproperty(\"ngModel\", ctx.editFirstName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassProp(\"d-none\", _r11.valid || _r11.untouched);\n      i0.ɵɵadvance(4);\n      i0.ɵɵclassProp(\"is-invalid\", _r12.invalid && _r12.touched);\n      i0.ɵɵproperty(\"ngModel\", ctx.editLastName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassProp(\"d-none\", _r12.valid || _r12.untouched);\n      i0.ɵɵadvance(4);\n      i0.ɵɵclassProp(\"is-invalid\", _r13.invalid && _r13.touched);\n      i0.ɵɵproperty(\"ngModel\", ctx.editEmail);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r13.errors && _r13.invalid && _r13.touched);\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"is-invalid\", _r15.invalid && _r15.touched);\n      i0.ɵɵproperty(\"ngModel\", ctx.editPhone);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r15.errors && _r15.invalid && _r15.touched);\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"is-invalid\", _r17.invalid && _r17.touched);\n      i0.ɵɵproperty(\"ngModel\", ctx.editSpecialty);\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassProp(\"d-none\", _r17.valid || _r17.untouched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"disabled\", _r10.form.invalid || _r10.form.pristine || _r10.submitted);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.editSuccess);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i6.ɵNgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.RequiredValidator, i6.PatternValidator, i6.NgModel, i6.NgForm, i7.NavbarComponent, i8.FooterComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1c2VyLWRldGFpbHMuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","UserDetailsComponent","constructor","userService","requestService","workerService","router","route","ngOnInit","logged","JSON","parse","sessionStorage","getItem","type","clear","navigate","username","snapshot","paramMap","get","fetchUsers","subscribe","users","allUsers","getUser","usr","user","email","phone","agencyName","address","desc","getAllFromAgency","allWorkers","workers","getWorkersRequest","req","hasRequest","request","isLoading","firstname","firstName","lastname","lastName","fileChosen","event","target","value","img","files","Image","src","URL","createObjectURL","decode","naturalWidth","naturalHeight","badChosen","changeImg","form","FormData","append","editImg","response","imgChange","imgChangeText","setItem","stringify","imgChangeFail","changeClientData","u","alert","editClientData","dataChange","dataChangeFail","changeAgencyData","editAgencyData","addWorker","newFirstName","newLastName","newEmail","newPhone","newSpecialty","response1","length","allowedWorkers","incWorkers","response2","newSuccess","fill","i","editId","workerId","editFirstName","editLastName","editEmail","editPhone","editSpecialty","specialty","editWorker","editSuccess","removeWorker","id","acceptRequest","setWorkers","workerNum","delWorkersRequest","refuseRequest","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Pc\\Desktop\\RTI 3. god\\6. semestar\\PIA\\Projekat\\frontend\\src\\app\\user-details\\user-details.component.html","C:\\Users\\Pc\\Desktop\\RTI 3. god\\6. semestar\\PIA\\Projekat\\frontend\\src\\app\\user-details\\user-details.component.ts"],"sourcesContent":["<app-navbar></app-navbar>\n\n<div class=\"container mb-5 mt-5\" *ngIf=\"!isLoading\">\n  <h3 class=\"display-6\">Izmena podataka</h3>\n\n  <div class=\"row\">\n    <div class=\"col-md-6\" *ngIf=\"user.type == 1\">\n      <form #changeAgencyForm=\"ngForm\">\n        <label for=\"agencyname\" class=\"form-label\">Ime Agencije:</label>\n        <input type=\"text\" id=\"agencyname\" name=\"agencyname\" #Agencyname=\"ngModel\"\n          [class.is-invalid]=\"Agencyname.invalid && Agencyname.touched\" [(ngModel)]=\"agencyName\" class=\"form-control\" required>\n        <small class=\"text-danger\" [class.d-none]=\"Agencyname.valid || Agencyname.untouched\">Ovo polje je obavezno.</small>\n        <label for=\"address\" class=\"form-label\">Adresa:</label>\n        <input type=\"text\" id=\"address\" name=\"address\" #Address=\"ngModel\"\n          [class.is-invalid]=\"Address.invalid && Address.touched\" [(ngModel)]=\"address\" class=\"form-control\" required>\n        <small class=\"text-danger\" [class.d-none]=\"Address.valid || Address.untouched\">Ovo polje je obavezno.</small>\n        <label for=\"desc\" class=\"form-label\">Opis:</label>\n        <textarea id=\"desc\" name=\"desc\" #Desc=\"ngModel\"\n          [class.is-invalid]=\"Desc.invalid && Desc.touched\" [(ngModel)]=\"desc\" class=\"form-control\" rows=\"3\" required></textarea>\n        <small class=\"text-danger\" [class.d-none]=\"Desc.valid || Desc.untouched\">Ovo polje je obavezno.</small>\n        <label for=\"email\" class=\"form-label\">Email:</label>\n        <input type=\"email\" id=\"email\" name=\"email\" #Email=\"ngModel\"\n          [class.is-invalid]=\"Email.invalid && Email.touched\" [(ngModel)]=\"email\" class=\"form-control\"\n          pattern=\"[^@ \\t\\r\\n]+@[^@ \\t\\r\\n]+\\.[^@ \\t\\r\\n]+\" required>\n        <div *ngIf=\"Email.errors && (Email.invalid && Email.touched) \">\n          <small class=\"text-danger\" *ngIf=\"Email.errors['required']\">Ovo polje je obavezno.</small>\n          <small class=\"text-danger\" *ngIf=\"Email.errors['pattern']\">Nije validan format mejla.</small>\n        </div>\n        <label for=\"phone\" class=\"form-label\">Broj Telefona:</label>\n        <input type=\"text\" id=\"phone\" name=\"phone\" #Phone=\"ngModel\"\n          [class.is-invalid]=\"Phone.invalid && Phone.touched\" [(ngModel)]=\"phone\" class=\"form-control\"\n          pattern=\"^(\\+)(3816)([0-9]){6,9}|(06)([0-9]){6,9}$\" required>\n        <div *ngIf=\"Phone.errors && (Phone.invalid && Phone.touched) \">\n          <small class=\"text-danger\" *ngIf=\"Phone.errors['required']\">Ovo polje je obavezno.</small>\n          <small class=\"text-danger\" *ngIf=\"Phone.errors['pattern']\">Telefon se navodi u formatu 06 (ili +3816), zatim Vas broj bez razmaka ili crtica.</small>\n        </div>\n        <input type=\"submit\" value=\"Izmeni podatke\" [disabled]=\"changeAgencyForm.form.invalid || changeAgencyForm.form.pristine || changeAgencyForm.submitted\" (click)=\"changeAgencyData()\" class=\"btn btn-primary mt-2\">\n        <small class=\"text-success d-block\" *ngIf=\"dataChange\">Uspešna izmena podataka!</small>\n        <small class=\"text-danger d-block\" *ngIf=\"dataChangeFail\">Greška pri izmeni podataka!</small>\n      </form>\n    </div>\n    <div class=\"col-md-6\" *ngIf=\"user.type == 0\">\n      <form #changeUserForm=\"ngForm\">\n        <label for=\"firstname\" class=\"form-label\">Ime:</label>\n        <input type=\"text\" id=\"firstname\" name=\"firstname\" #Firstname=\"ngModel\"\n          [class.is-invalid]=\"Firstname.invalid && Firstname.touched\" [(ngModel)]=\"firstname\" class=\"form-control\" required>\n        <small class=\"text-danger d-block\" [class.d-none]=\"Firstname.valid || Firstname.untouched\">Ovo polje je obavezno.</small>\n        <label for=\"lastname\" class=\"form-label\">Prezime:</label>\n        <input type=\"text\" id=\"lastname\" name=\"lastname\" #Lastname=\"ngModel\"\n          [class.is-invalid]=\"Lastname.invalid && Lastname.touched\" [(ngModel)]=\"lastname\" class=\"form-control\" required>\n        <small class=\"text-danger d-block\" [class.d-none]=\"Lastname.valid || Lastname.untouched\">Ovo polje je obavezno.</small>\n        <label for=\"email\" class=\"form-label\">Email:</label>\n        <input type=\"email\" id=\"email\" name=\"email\" #Email=\"ngModel\"\n          [class.is-invalid]=\"Email.invalid && Email.touched\" [(ngModel)]=\"email\" class=\"form-control\"\n          pattern=\"[^@ \\t\\r\\n]+@[^@ \\t\\r\\n]+\\.[^@ \\t\\r\\n]+\" required>\n        <div *ngIf=\"Email.errors && (Email.invalid && Email.touched) \">\n          <small class=\"text-danger\" *ngIf=\"Email.errors['required']\">Ovo polje je obavezno.</small>\n          <small class=\"text-danger\" *ngIf=\"Email.errors['pattern']\">Nije validan format mejla.</small>\n        </div>\n        <label for=\"phone\" class=\"form-label\">Broj Telefona:</label>\n        <input type=\"text\" id=\"phone\" name=\"phone\" #Phone=\"ngModel\"\n          [class.is-invalid]=\"Phone.invalid && Phone.touched\" [(ngModel)]=\"phone\" class=\"form-control\"\n          pattern=\"^(\\+)(3816)([0-9]){6,9}|(06)([0-9]){6,9}$\" required>\n        <div *ngIf=\"Phone.errors && (Phone.invalid && Phone.touched) \">\n          <small class=\"text-danger\" *ngIf=\"Phone.errors['required']\">Ovo polje je obavezno.</small>\n          <small class=\"text-danger\" *ngIf=\"Phone.errors['pattern']\">Telefon se navodi u formatu 06 (ili +3816), zatim Vas broj bez razmaka ili crtica.</small>\n        </div>\n        <input type=\"submit\" value=\"Izmeni podatke\" [disabled]=\"changeUserForm.form.invalid || changeUserForm.form.pristine || changeUserForm.submitted\" (click)=\"changeClientData()\" class=\"btn btn-primary mt-2\">\n        <small class=\"text-success d-block\" *ngIf=\"dataChange\">Uspešna izmena podataka!</small>\n        <small class=\"text-danger d-block\" *ngIf=\"dataChangeFail\">Greška pri izmeni podataka!</small>\n      </form>\n    </div>\n    <div class=\"col-md-6 d-flex flex-column align-items-center\">\n        <h4 class=\"text-center display-8\">Trenutna Profilna Ikonica</h4>\n        <img [src]=\"'http://localhost:4000/images/' + user.img\" class=\"rounded\" alt=\"Slika nije pronađena\">\n        <label for=\"profile_pic\" class=\"form-label mt-2\">Nova Profilna Ikonica:</label>\n        <input type=\"file\" id=\"profile_pic\" [class.is-invalid]=\"badChosen\" name=\"profile_pic\" accept=\".png, .jpg, .jpeg\" (input)=\"fileChosen($event)\" class=\"form-control w-50\">\n        <small class=\"text-danger w-50\" *ngIf=\"badChosen\">Slika mora biti velicine 100x100px - 300x300px.</small>\n        <button [disabled]=\"badChosen || !img\" class=\"btn btn-primary mt-3\" (click)=\"changeImg()\">Izmenite Profilnu Ikonicu</button>\n        <small class=\"text-success d-block\" *ngIf=\"imgChange\">{{imgChangeText}}</small>\n        <small class=\"text-danger d-block\" *ngIf=\"imgChangeFail\">{{imgChangeText}}</small>\n        <br>\n        <div class=\"text-center\" *ngIf=\"hasRequest\">\n          <h5>Postoji zahtev za povećanje broja radnih mesta na: {{request.workerNum}}</h5>\n          <button class=\"btn btn-outline-success me-2\"(click)=\"acceptRequest()\">Prihvati zahtev</button>\n          <button class=\"btn btn-outline-danger ms-2\" (click)=\"refuseRequest()\">Odbij zahtev</button>\n        </div>\n    </div>\n  </div>\n  <br>\n  <hr>\n  <br>\n  <div class=\"row mt-2 mb-3\" *ngIf=\"user.type == 1\">\n    <div class=\"col-md-10 align-self-center\">\n      <h3 class=\"text-center display-6\">Svi Radnici Agencije</h3>\n    </div>\n    <div class=\"col-md-2 align-self-center\">\n      <button class=\"btn btn-primary my-1\" data-toggle=\"modal\" data-target=\"#addWorker\">Dodaj Novog Radnika</button>\n    </div>\n  </div>\n  <div class=\"row\" *ngIf=\"user.type == 1\">\n    <div class=\"col\">\n      <table class=\"table table-dark\" *ngIf=\"workers.length != 0\">\n        <thead class=\"text-center\">\n          <tr>\n            <th scope=\"col\" class=\"text\">#</th>\n            <th scope=\"col\">Ime</th>\n            <th scope=\"col\">Prezime</th>\n            <th scope=\"col\">Broj telefona</th>\n            <th scope=\"col\">Struka</th>\n            <th scope=\"col\">Na Poslu</th>\n            <th scope=\"col\" colspan=\"2\">Opcije</th>\n          </tr>\n        </thead>\n        <tbody class=\"text-center\">\n          <tr *ngFor=\"let w of workers; let i = index\" class=\"align-middle\">\n            <th scope=\"row\">{{i+1}}</th>\n            <td>{{w.firstName}}</td>\n            <td>{{w.lastName}}</td>\n            <td>{{w.phone}}</td>\n            <td>{{w.specialty}}</td>\n            <td>{{w.workingOn == -1 ? \"Ne\" : \"Da\"}}</td>\n            <td><button class=\"btn btn-outline-info\" data-toggle=\"modal\" data-target=\"#editWorker\" (click)=\"fill(i)\">Ažuriraj</button></td>\n            <td><button class=\"btn btn-outline-danger\" (click)=\"removeWorker(w.workerId)\">Obriši</button></td>\n          </tr>\n        </tbody>\n      </table>\n      <h5 class=\"text-center\" *ngIf=\"workers.length == 0\">Agencija nema nijednog radnika.</h5>\n    </div>\n  </div>\n  <div class=\"row my-5\" *ngIf=\"user.type == 1\">\n    <div class=\"col\">\n      <h4 class=\"text-center my-2 display-6\">Recenzije Agencije:</h4>\n      <h5 class=\"text-center\" *ngIf=\"user.reviews.length == 0\">Ova agencija nema nijednu recenziju.</h5>\n      <table class=\"table table-dark\" *ngIf=\"user.reviews.length != 0\">\n        <thead class=\"text-center\">\n          <tr>\n            <th scope=\"col\" class=\"text\">#</th>\n            <th scope=\"col\">Korisničko ime</th>\n            <th scope=\"col\">Ocena</th>\n            <th scope=\"col\">Komentar</th>\n          </tr>\n        </thead>\n        <tbody class=\"text-center\">\n          <tr *ngFor=\"let r of user.reviews let i = index\" class=\"align-middle\">\n            <th scope=\"row\">{{i+1}}</th>\n            <td>{{logged ? r.username : \"Anoniman korisnik\"}}</td>\n            <td>{{r.rating}}</td>\n            <td>{{r.comment}}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n\n<div class=\"modal fade\" id=\"addWorker\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"addWorkerLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"addWorkerLabel\">Dodajte Radnika</h5>\n        <button type=\"button\" class=\"btn btn-outline-danger\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <form #newForm=\"ngForm\">\n          <label for=\"newFirstName\" class=\"form-label\">Ime:</label>\n          <input type=\"text\" id=\"newFirstName\" name=\"newFirstName\" #NewFirstName=\"ngModel\"\n            [class.is-invalid]=\"NewFirstName.invalid && NewFirstName.touched\" [(ngModel)]=\"newFirstName\" class=\"form-control\" required>\n          <small class=\"text-danger d-block\" [class.d-none]=\"NewFirstName.valid || NewFirstName.untouched\">Ovo polje je obavezno.</small>\n          <label for=\"newLastName\" class=\"form-label\">Prezime:</label>\n          <input type=\"text\" id=\"newLastName\" name=\"newLastName\" #NewLastName=\"ngModel\"\n            [class.is-invalid]=\"NewLastName.invalid && NewLastName.touched\" [(ngModel)]=\"newLastName\" class=\"form-control\" required>\n          <small class=\"text-danger d-block\" [class.d-none]=\"NewLastName.valid || NewLastName.untouched\">Ovo polje je obavezno.</small>\n          <label for=\"newEmail\" class=\"form-label\">Email:</label>\n          <input type=\"newEmail\" id=\"newEmail\" name=\"newEmail\" #NewEmail=\"ngModel\"\n            [class.is-invalid]=\"NewEmail.invalid && NewEmail.touched\" [(ngModel)]=\"newEmail\" class=\"form-control\"\n            pattern=\"[^@ \\t\\r\\n]+@[^@ \\t\\r\\n]+\\.[^@ \\t\\r\\n]+\" required>\n          <div *ngIf=\"NewEmail.errors && (NewEmail.invalid && NewEmail.touched) \">\n            <small class=\"text-danger\" *ngIf=\"NewEmail.errors['required']\">Ovo polje je obavezno.</small>\n            <small class=\"text-danger\" *ngIf=\"NewEmail.errors['pattern']\">Nije validan format mejla.</small>\n          </div>\n          <label for=\"newPhone\" class=\"form-label\">Broj Telefona:</label>\n          <input type=\"text\" id=\"newPhone\" name=\"newPhone\" #NewPhone=\"ngModel\"\n            [class.is-invalid]=\"NewPhone.invalid && NewPhone.touched\" [(ngModel)]=\"newPhone\" class=\"form-control\"\n            pattern=\"^(\\+)(3816)([0-9]){6,9}|(06)([0-9]){6,9}$\" required>\n          <div *ngIf=\"NewPhone.errors && (NewPhone.invalid && NewPhone.touched) \">\n            <small class=\"text-danger\" *ngIf=\"NewPhone.errors['required']\">Ovo polje je obavezno.</small>\n            <small class=\"text-danger\" *ngIf=\"NewPhone.errors['pattern']\">Telefon se navodi u formatu 06 (ili +3816), zatim Vas broj bez razmaka ili crtica.</small>\n          </div>\n          <label for=\"newSpecialty\" class=\"form-label\">Struka:</label>\n          <input type=\"text\" id=\"newSpecialty\" name=\"newSpecialty\" #NewSpecialty=\"ngModel\"\n            [class.is-invalid]=\"NewSpecialty.invalid && NewSpecialty.touched\" [(ngModel)]=\"newSpecialty\" class=\"form-control\" required>\n          <small class=\"text-danger d-block\" [class.d-none]=\"NewSpecialty.valid || NewSpecialty.untouched\">Ovo polje je obavezno.</small>\n        </form>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Zatvori</button>\n        <button type=\"button\" class=\"btn btn-primary\" [disabled]=\"newForm.form.invalid || newForm.submitted\" (click)=\"addWorker(); newForm.resetForm()\">Sačuvaj Radnika</button>\n        <small class=\"text-success d-block\" *ngIf=\"newSuccess\">Uspešno sačuvan radnik!</small>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"modal fade\" id=\"editWorker\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"editWorkerLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"editWorkerLabel\">Izmeni Radnika</h5>\n        <button type=\"button\" class=\"btn btn-outline-danger\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <form #editForm=\"ngForm\">\n          <label for=\"editFirstName\" class=\"form-label\">Ime:</label>\n          <input type=\"text\" id=\"editFirstName\" name=\"editFirstName\" #EditFirstName=\"ngModel\"\n            [class.is-invalid]=\"EditFirstName.invalid && EditFirstName.touched\" [(ngModel)]=\"editFirstName\" class=\"form-control\" required>\n          <small class=\"text-danger d-block\" [class.d-none]=\"EditFirstName.valid || EditFirstName.untouched\">Ovo polje je obavezno.</small>\n          <label for=\"editLastName\" class=\"form-label\">Prezime:</label>\n          <input type=\"text\" id=\"editLastName\" name=\"editLastName\" #EditLastName=\"ngModel\"\n            [class.is-invalid]=\"EditLastName.invalid && EditLastName.touched\" [(ngModel)]=\"editLastName\" class=\"form-control\" required>\n          <small class=\"text-danger d-block\" [class.d-none]=\"EditLastName.valid || EditLastName.untouched\">Ovo polje je obavezno.</small>\n          <label for=\"editEmail\" class=\"form-label\">Email:</label>\n          <input type=\"editEmail\" id=\"editEmail\" name=\"editEmail\" #EditEmail=\"ngModel\"\n            [class.is-invalid]=\"EditEmail.invalid && EditEmail.touched\" [(ngModel)]=\"editEmail\" class=\"form-control\"\n            pattern=\"[^@ \\t\\r\\n]+@[^@ \\t\\r\\n]+\\.[^@ \\t\\r\\n]+\" required>\n          <div *ngIf=\"EditEmail.errors && (EditEmail.invalid && EditEmail.touched) \">\n            <small class=\"text-danger\" *ngIf=\"EditEmail.errors['required']\">Ovo polje je obavezno.</small>\n            <small class=\"text-danger\" *ngIf=\"EditEmail.errors['pattern']\">Nije validan format mejla.</small>\n          </div>\n          <label for=\"editPhone\" class=\"form-label\">Broj Telefona:</label>\n          <input type=\"text\" id=\"editPhone\" name=\"editPhone\" #EditPhone=\"ngModel\"\n            [class.is-invalid]=\"EditPhone.invalid && EditPhone.touched\" [(ngModel)]=\"editPhone\" class=\"form-control\"\n            pattern=\"^(\\+)(3816)([0-9]){6,9}|(06)([0-9]){6,9}$\" required>\n          <div *ngIf=\"EditPhone.errors && (EditPhone.invalid && EditPhone.touched) \">\n            <small class=\"text-danger\" *ngIf=\"EditPhone.errors['required']\">Ovo polje je obavezno.</small>\n            <small class=\"text-danger\" *ngIf=\"EditPhone.errors['pattern']\">Telefon se navodi u formatu 06 (ili +3816), zatim Vas broj bez razmaka ili crtica.</small>\n          </div>\n          <label for=\"editSpecialty\" class=\"form-label\">Struka:</label>\n          <input type=\"text\" id=\"editSpecialty\" name=\"editSpecialty\" #EditSpecialty=\"ngModel\"\n            [class.is-invalid]=\"EditSpecialty.invalid && EditSpecialty.touched\" [(ngModel)]=\"editSpecialty\" class=\"form-control\" required>\n          <small class=\"text-danger d-block\" [class.d-none]=\"EditSpecialty.valid || EditSpecialty.untouched\">Ovo polje je obavezno.</small>\n        </form>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Zatvori</button>\n        <button type=\"button\" class=\"btn btn-primary\" [disabled]=\"editForm.form.invalid || editForm.form.pristine || editForm.submitted\" (click)=\"editWorker()\">Sačuvaj Radnika</button>\n        <small class=\"text-success d-block\" *ngIf=\"editSuccess\">Uspešno sačuvan radnik!</small>\n      </div>\n    </div>\n  </div>\n</div>\n\n<app-footer></app-footer>\n","import { Component, OnInit } from '@angular/core';\nimport { User } from '../models/user';\nimport { UserService } from '../services/user.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MyRequest } from '../models/myrequest';\nimport { RequestService } from '../services/request.service';\nimport { AgencyWorker } from '../models/worker';\nimport { WorkerService } from '../services/worker.service';\n\n@Component({\n  selector: 'app-user-details',\n  templateUrl: './user-details.component.html',\n  styleUrls: ['./user-details.component.css']\n})\nexport class UserDetailsComponent implements OnInit {\n\n  allUsers: User[];\n\n  //------------------------------------------------------generalne stvari------------------------------------------------------\n  isLoading: boolean = true;\n  user: User;\n  logged: User;\n  workers: AgencyWorker[];\n  request: MyRequest;\n  hasRequest: boolean = false;\n\n  //------------------------------------------------------podaci o korisniku------------------------------------------------------\n  firstname: string;\n  lastname: string;\n  agencyName: string;\n  address: string;\n  email: string;\n  phone: string;\n  desc: string;\n  dataChange: boolean = false;\n  dataChangeFail: boolean = false;\n  password: string;\n  newPassword: string;\n  confirm: string;\n  passChange: boolean = false;\n  passChangeFail: boolean = false;\n  passChangeText: string;\n  badChosen: boolean = false;\n  img: File;\n  imgChange: boolean = false;\n  imgChangeFail: boolean = false;\n  imgChangeText: string;\n\n  //------------------------------------------------------podaci o novom radniku------------------------------------------------------\n  newFirstName: string;\n  newLastName: string;\n  newEmail: string;\n  newPhone: string;\n  newSpecialty: string;\n  newSuccess: boolean = false;\n\n  //------------------------------------------------------podaci o izmeni radnika------------------------------------------------------\n  editId: number;\n  editFirstName: string;\n  editLastName: string;\n  editEmail: string;\n  editPhone: string;\n  editSpecialty: string;\n  editSuccess: boolean = false;\n\n\n  constructor(private userService: UserService, private requestService: RequestService,\n    private workerService: WorkerService, private router: Router, private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.logged = JSON.parse(sessionStorage.getItem(\"loggedIn\"));\n    if(!this.logged || this.logged.type != 2) {\n      sessionStorage.clear();\n      this.router.navigate(['']);\n    }\n    else {\n      let username = this.route.snapshot.paramMap.get(\"username\");\n      this.userService.fetchUsers().subscribe((users: User[]) => {\n        this.allUsers = users;\n        this.userService.getUser(username).subscribe((usr: User) => {\n          this.user = usr;\n          this.email = this.user.email;\n          this.phone = this.user.phone\n          if(usr.type == 1) {\n            this.agencyName = this.user.agencyName;\n            this.address = this.user.address;\n            this.desc = this.user.desc;\n            this.workerService.getAllFromAgency(username).subscribe((allWorkers: AgencyWorker[]) => {\n              this.workers = allWorkers;\n              this.requestService.getWorkersRequest(username).subscribe((req: MyRequest) => {\n                if(req) {\n                  this.hasRequest = true;\n                  this.request = req;\n                }\n                else {\n                  this.hasRequest = false;\n                  this.request = null;\n                }\n                this.isLoading = false;\n              })\n            })\n          }\n          else {\n            this.firstname = this.user.firstName;\n            this.lastname = this.user.lastName;\n            this.isLoading = false;\n          }\n        })\n      })\n    }\n  }\n\n  async fileChosen(event:any) {\n    //isto kao kod registracije\n    if(event.target.value) {\n      this.img = <File>event.target.files[0]\n      let img = new Image();\n      img.src = URL.createObjectURL(this.img);\n      await img.decode();\n      if(img.naturalWidth < 100 || img.naturalWidth > 300 || img.naturalHeight < 100 || img.naturalHeight > 300) this.badChosen = true;\n      else this.badChosen = false;\n    }\n    else {\n      this.badChosen = false;\n      this.img = null;\n    }\n  }\n\n  changeImg() {\n    //isto kao kod registracije\n    let form = new FormData()\n    form.append(\"profile_pic\", this.img)\n    form.append(\"user\", this.user.username)\n    this.userService.editImg(form).subscribe((response) => {\n      if(response['status'] == 'ok') {\n        this.imgChange = true;\n        this.imgChangeText = \"Ikonica uspešno izmenjena!\"\n        this.logged.img = response[\"newImg\"]\n        sessionStorage.setItem(\"loggedIn\", JSON.stringify(this.logged))\n        this.ngOnInit()\n      }\n      else {\n        this.imgChangeFail = true;\n        this.imgChangeText = \"Greška pri izmeni ikonice!\"\n      }\n    })\n  }\n\n  changeClientData() {\n\n    for(let u of this.allUsers) {\n      if (this.email == u.email) {\n        alert(\"Email nije jedinstven!\");\n        return;\n      }\n    }\n\n    this.userService.editClientData(this.user.username, this.firstname, this.lastname, this.phone, this.email).subscribe((response) => {\n      if(response['status'] == \"ok\") {\n\n        //podaci izmenjeni u bazi, sada moraju da se izmene u sessionStorage\n        this.dataChange = true\n        this.logged.firstName = this.firstname\n        this.logged.lastName = this.lastname\n        this.logged.phone = this.phone\n        this.logged.email = this.email\n        sessionStorage.setItem(\"loggedIn\", JSON.stringify(this.logged))\n      }\n      else this.dataChangeFail = true\n    })\n  }\n\n  changeAgencyData() {\n\n    for(let u of this.allUsers) {\n      if (this.email == u.email) {\n        alert(\"Email nije jedinstven!\");\n        return;\n      }\n    }\n\n    this.userService.editAgencyData(this.user.username, this.logged.agencyName, this.address, this.desc, this.email, this.phone).subscribe((response) => {\n      if(response['status'] == \"ok\") { //podaci izmenjeni u bazi, sada moraju da se izmene u sessionStorage\n        this.dataChange = true;\n        this.logged.agencyName = this.agencyName;\n        this.logged.address = this.address;\n        this.logged.desc = this.desc;\n        this.logged.phone = this.phone;\n        this.logged.email = this.email;\n        sessionStorage.setItem(\"loggedIn\", JSON.stringify(this.logged));\n      }\n      else this.dataChangeFail = true\n    })\n  }\n\n  addWorker() {\n    this.workerService.addWorker(this.user.username, this.newFirstName, this.newLastName, this.newEmail, this.newPhone, this.newSpecialty).subscribe((response1) => {\n      if(response1['status'] == \"ok\") {\n        if(this.workers.length + 1 >= this.user.allowedWorkers) {\n          this.userService.incWorkers(this.user.username).subscribe((response2) => {\n            if(response2['status'] == \"ok\") {\n              this.newSuccess = true;\n              this.ngOnInit();\n            }\n          })\n        }\n        else {\n          this.newSuccess = true;\n          this.ngOnInit();\n        }\n      }\n    })\n  }\n\n  fill(i) {\n    this.editId = this.workers[i].workerId\n    this.editFirstName = this.workers[i].firstName\n    this.editLastName = this.workers[i].lastName\n    this.editEmail = this.workers[i].email\n    this.editPhone = this.workers[i].phone\n    this.editSpecialty = this.workers[i].specialty\n  }\n\n  editWorker() {\n    this.workerService.editWorker(this.editId, this.editFirstName, this.editLastName, this.editEmail, this.editPhone, this.editSpecialty).subscribe((response) => {\n      if(response['status'] == \"ok\") {\n        this.editSuccess = true;\n        this.ngOnInit();\n      }\n    })\n  }\n\n  removeWorker(id) {\n    this.workerService.removeWorker(id).subscribe((response) => {\n      if(response['status'] == \"ok\") {\n        this.ngOnInit();\n      }\n    })\n  }\n\n  acceptRequest() {\n    this.userService.setWorkers(this.user.username, this.request.workerNum).subscribe((response1) => {\n      if(response1['status'] == \"ok\") {\n        this.requestService.delWorkersRequest(this.user.username, this.request.workerNum).subscribe((response2) => {\n          if(response2['status'] == \"ok\") {\n            alert(\"Zahtev prihvacen\");\n            this.ngOnInit();\n          }\n        })\n      }\n    })\n  }\n\n  refuseRequest() {\n    this.requestService.delWorkersRequest(this.user.username, this.request.workerNum).subscribe((response) => {\n      if(response['status'] == \"ok\") {\n        alert(\"Zahtev odbijen\");\n        this.ngOnInit();\n      }\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}